<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}متابعة الأداء المؤسسي{% endblock %}</title>
    {% load static %}

    <!-- APP CSS -->
    <link rel="stylesheet" href="{% static 'CPMS_app/style.css' %}">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- APP JS -->
    <script defer src="{% static 'CPMS_app/app.js' %}"></script>

</head>

<body class="flex bg-gray-50 min-h-screen">
    
    <!-- navbar -->
    <aside class="w-64 bg-white shadow-md flex flex-col sticky top-0 h-screen">
        <div class="p-6 flex items-center gap-3 border-b border-gray-200 bg-[#00685E] text-white">
            <h1 class="text-xl font-normal text-white">متابعة الأداء المؤسسي</h1>
        </div>
        <ul class="flex-1 mt-6 space-y-2">
            <li>
                <a href="#"
                    class="flex items-center gap-3 px-6 py-3 text-gray-700 hover:bg-blue-100 hover:text-blue-700 rounded-lg transition">
                    <span>لوحة التحكم</span>
                </a>
            </li>
            <li>
                <a href="{% url 'initiatives_list' %}"
                    class="flex items-center gap-3 px-6 py-3 text-gray-700 hover:bg-blue-100 hover:text-blue-700 rounded-lg transition">
                    <span>المبادرات</span>
                </a>
            </li>
            <li>
                <a href="{% url 'goals_list' %}"
                    class="flex items-center gap-3 px-6 py-3 text-gray-700 hover:bg-blue-100 hover:text-blue-700 rounded-lg transition">
                    <span>الأهداف</span>
                </a>
            </li>
            <li>
                <a href="{% url 'plans_list' %}"
                    class="flex items-center gap-3 px-6 py-3 text-gray-700 hover:bg-blue-100 hover:text-blue-700 rounded-lg transition">
                    <span>الخطط</span>
                </a>
            </li>
        </ul>
<!-- logout next -->
        <div class="p-6 border-t border-gray-200">
            <a href="{% url 'login' %}" class="flex items-center gap-3 text-gray-700 hover:text-red-600 transition">
                <span>تسجيل الدخول</span>
            </a>
        </div>
    </aside>

    <main class="flex-1 p-8">
        {% block content %}
        {% endblock %}
    </main>

</body>

    {% if messages %}
    <div class="fixed top-5 right-5 space-y-3 z-50 w-96">

        {% for message in messages %}

        <div role="alert" class="toast-message rounded-lg p-4 shadow-md flex items-center gap-3 text-sm font-semibold
        {% if 'delete' in message.tags %}bg-red-50 text-red-600 {% endif %}
        {% if 'update' in message.tags %}bg-yellow-50 text-yellow-600{% endif %}
        {% if 'create' in message.tags %}bg-green-50 text-green-600{% endif %}">

            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0 stroke-current" fill="none"
                viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>

            <span>{{ message }}</span>
        </div>


        {% endfor %}
    </div>
<style>
    .toast-message {
        transform: translateY(-20px);
        opacity: 0;
        animation: slide-in 0.5s forwards, fade-out 0.5s 2.5s forwards;
    }
    
    @keyframes slide-in {
        to {
            transform: translateY(0);
            opacity: 1;
        }
    }
    
    @keyframes fade-out {
        to {
            opacity: 0;
        }
    }</style>
    <script>
        setTimeout(() => {
            const container = document.getElementById("django-messages");
            if (container) {
                container.style.opacity = 0;
                setTimeout(() => container.remove(), 500);
            }
        }, 3000);
    </script>
    {% endif %}

</html>